<div class="pt-10 px-10">
    <div class="flex gap-2">
        <button mat-icon-button [routerLink]="['..']">
            <mat-icon>arrow_back</mat-icon>
          </button>
        <h1 class="text-4xl font-light">
            <span *ngIf="isEdicao">
                Edição de Coleta
            </span>
            <span *ngIf="!isEdicao">
                Cadastro de coleta
            </span>
        </h1>
    </div>
    <h2 class="text-gray-400 pt-5" *ngIf="!isEdicao">
        Cadastro
    </h2>
    <h2 class="text-gray-400 pt-5" *ngIf="isEdicao">
        Editar cadastro de Coleta
    </h2>
    <div class="w-hull pt-3">
        <div class="bg-gray-400 w-[90%] h-[1px]"></div>
    </div>
    <form [formGroup]="form" class="grid grid-cols-1 max-w-5xl" (ngSubmit)="salvar()">
        <div>

            <div class="flex flex-col pt-5">
                <label>Cliente</label>
                <mat-form-field appearance="outline" class="w-full">
                    <mat-select placeholder="Selecione a categoria" [formControlName]="'clienteId'">
                        <mat-option *ngFor="let cliente of allClientes" [value]="cliente.ID_Cliente">{{ cliente.Nome }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div class="flex flex-col pt-1">
                    <label>Data da coleta</label>
                    <mat-form-field appearance="outline" class="w-full">
                        <input matInput [matDatepicker]="picker" placeholder="dd/mm/aaaa" [formControlName]="'dataColeta'">
                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </div>
    
                <div class="flex flex-col pt-1">
                    <label>Quantidade</label>
                    <mat-form-field appearance="outline" class="w-full">
                        <input matInput 
                            placeholder="Digite a quantidade" 
                            class="w-full"
                            [formControlName]="'quantidade'">
                    </mat-form-field>
                </div>
            </div>
            
            <div class="flex flex-col pt-1">
                <label>Status Coleta</label>
                <mat-form-field appearance="outline" class="w-full">
                    <mat-select placeholder="Selecione um status para essa coleta" [formControlName]="'statusColeta'">
                        <mat-option value="CA">Cancelada</mat-option>
                        <mat-option value="CO">Concluida</mat-option>
                        <mat-option value="EA">Em andamento</mat-option>
                        <mat-option value="AB">Aberta</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            
        </div>

        <button
            type="submit"
            class="bg-blue-400 rounded-lg h-11 hover:bg-blue-600 hover:text-white duration-300 hover:cursor-pointer">
            {{ isEdicao ? 'Salvar alterações' : 'Gravar' }}
        </button>
    </form>
</div>